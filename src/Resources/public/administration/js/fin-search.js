(this.webpackJsonp=this.webpackJsonp||[]).push([["fin-search"],{"1Cpp":function(e,t){e.exports='{% block findologic %}\n    <sw-page class="findologic">\n        {% block findologic_header %}\n            <template slot="smart-bar-header">\n                <h2>\n                    {{ $tc($route.meta.$module.title) }}\n                    <sw-icon name="small-arrow-medium-right" small></sw-icon>\n                    {{ $tc(\'findologic.header\') }}\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block findologic_actions %}\n            <template slot="smart-bar-actions">\n                {% block findologic_actions_save %}\n                    <sw-button\n                            class="sw-settings-login-registration__save-action"\n                            :isLoading="isLoading"\n                            :disabled="isLoading"\n                            variant="primary"\n                            :title="$tc(\'global.default.save\')"\n                            :aria-label="$tc(\'global.default.save\')"\n                            v-model="isSaveSuccessful"\n                            @click="onSave"\n                    >\n                        {{ $tc(\'global.default.save\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block findologic_actions_cancel %}\n                    <sw-button\n                            :routerLink="{ name: $route.meta.parentPath }"\n                            :title="$tc(\'global.default.cancel\')"\n                            :aria-label="$tc(\'global.default.cancel\')">\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block findologic_content %}\n            <template slot="content">\n                {% block findologic_content_card %}\n                    <sw-card-view>\n                        {% block findologic_content_card_channel_config %}\n                            {% block findologic_content_card_channel_config_sales_channel_card %}\n                                <sw-card :title="$tc(\'findologic.settingForm.salesChannelTitle\')">\n                                    {% block findologic_content_card_channel_config_sales_channel_card_title %}\n                                        <sw-entity-single-select\n                                                id="salesChannelSelect"\n                                                :placeholder="$tc(\'sw-sales-channel-switch.labelDefaultOption\')"\n                                                :searchPlaceholder="$tc(\'sw-sales-channel-switch.placeholderSelect\')"\n                                                :resetOption="$tc(\'sw-sales-channel-switch.labelDefaultOption\')"\n                                                @change="onSelectedSalesChannel"\n                                                v-model="selectedSalesChannelId"\n                                                entity="sales_channel">\n                                            <template #labelProperty="{item, labelProperty}">\n                                                <span v-if="item.translated">{{ item.translated[labelProperty] }}</span>\n                                            </template>\n                                        </sw-entity-single-select>\n\n                                        <sw-single-select\n                                                ref="languageSelection"\n                                                class="sw-language-switch__select"\n                                                :options="language"\n                                                id="language"\n                                                :placeholder="$tc(\'findologic.selectSalesChannel\')"\n                                                :disabled="!selectedSalesChannelId"\n                                                required\n                                                v-model="selectedLanguageId"\n                                                @change="onSelectedLanguage">\n                                        </sw-single-select>\n\n                                    {% endblock %}\n                                </sw-card>\n\n                                {% block findologic_content_card_channel_config_credentials_card %}\n                                    <findologic-config\n                                            v-if="actualConfigData"\n                                            :isActive="isActive"\n                                            :shopkeyAvailable="shopkeyAvailable"\n                                            :isValidShopkey="isValidShopkey"\n                                            :isStagingShop="isStagingShop"\n                                            :allConfigs="allConfigs"\n                                            :actualConfigData="actualConfigData"\n                                            :shopkeyErrorState="shopkeyErrorState"\n                                            :selectedSalesChannelId="selectedSalesChannelId">\n                                    </findologic-config>\n                                {% endblock %}\n                            {% endblock %}\n\n                            {% block findologic_content_card_loading %}\n                                <sw-loader v-if="isLoading"></sw-loader>\n                            {% endblock %}\n                        {% endblock %}\n                    </sw-card-view>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n'},"2ETB":function(e,t){e.exports='{% block findologic_credentials %}\n    <sw-container slot="grid" rows="auto auto">\n        <sw-card-section>\n            <sw-card class="sw-card--grid"\n                     :title="$tc(\'findologic.settingForm.config.title\')">\n                <sw-container>\n                    {% block findologic_credentials_card_container %}\n                        {% block findologic_credentials_settings %}\n                            <div class="findologic-settings-credentials-fields">\n                                <sw-text-field\n                                        v-model="actualConfigData[\'FinSearch.config.shopkey\']"\n                                        :label="$tc(\'findologic.settingForm.config.shopkey.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.shopkey.tooltipText\')"\n                                        :required="true"\n                                        :error="shopkeyErrorState"\n                                >\n                                </sw-text-field>\n                                <sw-switch-field\n                                        v-model="actualConfigData[\'FinSearch.config.active\']"\n                                        :label="$tc(\'findologic.settingForm.config.active.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.active.tooltipText\')"\n                                >\n                                </sw-switch-field>\n                                <sw-switch-field\n                                        v-model="actualConfigData[\'FinSearch.config.activeOnCategoryPages\']"\n                                        :label="$tc(\'findologic.settingForm.config.activeOnCategoryPages.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.activeOnCategoryPages.tooltipText\')"\n                                >\n                                </sw-switch-field>\n                                <sw-button\n                                        v-show="showTestButton"\n                                        @click="openSalesChannelUrl"\n                                >\n                                    {{ $tc(\'findologic.settingForm.testButton\') }}\n                                </sw-button>\n                                <span class="divider"></span>\n                                <sw-multi-select\n                                        v-model="actualConfigData[\'FinSearch.config.crossSellingCategories\']"\n                                        :options="categories"\n                                        :label="$tc(\'findologic.settingForm.config.crossSellingCategories.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.crossSellingCategories.tooltipText\')"\n                                        :placeholder="$tc(\'findologic.settingForm.config.crossSellingCategories.placeholder\')"\n                                >\n                                    <template #selection-label-property="{ item }">\n                                        {{ item.name }}\n                                    </template>\n\n                                </sw-multi-select>\n                                <sw-text-field\n                                        v-model="actualConfigData[\'FinSearch.config.integrationType\']"\n                                        ref="integrationType"\n                                        :label="$tc(\'findologic.settingForm.config.integrationType.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.integrationType.tooltipText\')"\n                                        :disabled="true"\n                                >\n                                </sw-text-field>\n                            </div>\n                        {% endblock %}\n                    {% endblock %}\n                </sw-container>\n\n            </sw-card>\n\n            <sw-card class="sw-card--grid"\n                     v-if="showDIConfig"\n                     :title="$tc(\'findologic.settingForm.directIntegration.title\')">\n                <sw-container>\n\n                    <div class="findologic-settings-credentials-fields">\n                        <sw-text-field\n                                v-model="actualConfigData[\'FinSearch.config.searchResultContainer\']"\n                                :label="$tc(\'findologic.settingForm.config.searchResultContainer.label\')"\n                                :helpText="$tc(\'findologic.settingForm.config.searchResultContainer.tooltipText\')"\n                                :placeholder="$tc(\'findologic.settingForm.config.searchResultContainer.placeholder\')"\n                        >\n                        </sw-text-field>\n                        <sw-text-field\n                                v-model="actualConfigData[\'FinSearch.config.navigationResultContainer\']"\n                                :label="$tc(\'findologic.settingForm.config.navigationResultContainer.label\')"\n                                :helpText="$tc(\'findologic.settingForm.config.navigationResultContainer.tooltipText\')"\n                                :placeholder="$tc(\'findologic.settingForm.config.navigationResultContainer.placeholder\')"\n                        >\n                        </sw-text-field>\n                    </div>\n                </sw-container>\n            </sw-card>\n\n            <sw-card class="sw-card--grid" v-if="showAPIConfig" :title="$tc(\'findologic.settingForm.api.title\')">\n                <sw-container>\n\n                    <div class="findologic-settings-credentials-fields">\n\n                        {% block findologic_credentials_settings_search_filter_position_container %}\n                            <sw-single-select\n                                    v-model="actualConfigData[\'FinSearch.config.filterPosition\']"\n                                    :options="filterPositionOptions"\n                                    :label="$tc(\'findologic.settingForm.config.filterPosition.label\')"\n                                    :helpText="$tc(\'findologic.settingForm.config.filterPosition.tooltipText\')">\n                            </sw-single-select>\n                        {% endblock %}\n                    </div>\n                </sw-container>\n            </sw-card>\n        </sw-card-section>\n    </sw-container>\n{% endblock %}\n'},"8t65":function(e,t){e.exports="{% block sw_extension_card_base_context_menu_settings %}\n    <sw-context-menu-item\n            v-if=\"isInstalled && extension.configurable\"\n            :routerLink=\"{ name: extension.name === 'FinSearch' ? 'findologic.module.index' : 'sw.extension.config', params: { namespace: extension.name } }\">\n\n        {{ $tc('sw-extension-store.component.sw-extension-card-base.contextMenu.config') }}\n    </sw-context-menu-item>\n{% endblock %}\n"},LN1s:function(e,t){e.exports="{% block sw_plugin_list_grid_columns_actions_settings %}\n    <template v-if=\"item.composerName === 'findologic/plugin-shopware-6'\">\n        <sw-context-menu-item :routerLink=\"{ name: 'findologic.module.index' }\">\n            {{ $tc('sw-plugin.list.config') }}\n        </sw-context-menu-item>\n    </template>\n\n    <template v-else>\n        {% parent %}\n    </template>\n{% endblock %}\n"},Qoii:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var d=Shopware.Classes.ApiService,u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var t,n,i,o=g(r);function r(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"finsearch";return s(this,r),(n=o.call(this,e,t,i)).name="FinsearchConfigApiService",n}return t=r,(n=[{key:"getValues",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.httpClient.get("_action/finsearch",{params:a({salesChannelId:e,languageId:t},n),headers:this.getBasicHeaders(i)}).then((function(e){return d.handleResponse(e)}))}},{key:"saveValues",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.httpClient.post("_action/finsearch",e,{params:a({salesChannelId:t,languageId:n},i),headers:this.getBasicHeaders(o)}).then((function(e){return d.handleResponse(e)}))}},{key:"batchSave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.httpClient.post("_action/finsearch/batch",e,{params:a({},t),headers:this.getBasicHeaders(n)}).then((function(e){return d.handleResponse(e)}))}}])&&l(t.prototype,n),i&&l(t,i),r}(d),p=Shopware.Application;p.addServiceProvider("FinsearchConfigApiService",(function(e){var t=p.getContainer("init");return new u(t.httpClient,e.loginService)}));var y=n("8t65"),b=n.n(y),S=n("LN1s"),m=n.n(S);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=Shopware.Component;C.override("sw-self-maintained-extension-card",{template:b.a,mounted:function(){"FinSearch"===this.extension.name&&(this.extension.configurable=!0)},computed:{extensionCardClasses:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"sw-self-maintained-extension-card":!0},this.$super("extensionCardClasses"))}}}),C.override("sw-plugin-list",{template:m.a});var k=n("1Cpp"),O=n.n(k);n("ZMAt");function _(e,t,n,i,o,a,r){try{var s=e[a](r),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,o)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Shopware,D=P.Component,T=P.Mixin,$=P.Application,E=Shopware.Data.Criteria;D.register("findologic-page",{template:O.a,inject:["repositoryFactory","FinsearchConfigApiService","systemConfigApiService"],mixins:[T.getByName("notification")],data:function(){return{isLoading:!1,isSaveSuccessful:!1,isStagingShop:!1,shopkeyExists:!1,isRegisteredShopkey:null,isActive:!1,config:null,allConfigs:{},selectedSalesChannelId:null,selectedLanguageId:null,salesChannel:[],language:[],shopkeyErrorState:null,httpClient:$.getContainer("init").httpClient}},metaInfo:function(){return{title:this.$createTitle()}},created:function(){this.createdComponent()},beforeMount:function(){this.updateHeaderBarBackLink()},watch:{selectedLanguageId:{handler:function(e){e&&this.createdComponent()}},shopkey:function(){this.shopkeyErrorState=null,this.isValidShopkey?this._isStagingRequest():this.actualConfigData&&(this.actualConfigData["FinSearch.config.active"]=!1,this.actualConfigData["FinSearch.config.activeOnCategoryPages"]=!1),this._setErrorStates()}},computed:{configKey:function(){return this.selectedSalesChannelId&&this.selectedLanguageId?this.selectedSalesChannelId+"-"+this.selectedLanguageId:null},actualConfigData:{get:function(){return this.allConfigs[this.configKey]},set:function(e){this.allConfigs=F(F({},this.allConfigs),{},I({},this.configKey,e))}},shopkey:function(){return this.actualConfigData?this.actualConfigData["FinSearch.config.shopkey"]:""},isValidShopkey:function(){return!1!==/^[A-F0-9]{32}$/.test(this.shopkey)},shopkeyAvailable:function(){return!!this.shopkey},salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")},languageRepository:function(){return this.repositoryFactory.create("language")},findologicConfigRepository:function(){return this.repositoryFactory.create("finsearch_config")}},methods:{createdComponent:function(){var e=this;if(this.selectedSalesChannelId&&this.selectedLanguageId&&(this.isLoading=!0,this.readAll().then((function(t){t["FinSearch.config.filterPosition"]||(t["FinSearch.config.filterPosition"]="top"),e.actualConfigData=t,e.isLoading=!1}))),!this.salesChannel.length){this.isLoading=!0;var t=new E;t.addAssociation("languages"),t.addFilter(E.equals("active",!0)),this.salesChannelRepository.search(t,Shopware.Context.api).then((function(t){e.isLoading=!1,e.salesChannel=t}))}},updateHeaderBarBackLink:function(){var e=null;Shopware.Module.getModuleRegistry().forEach((function(t){e||"sw-extension-store.title"===t.manifest.title&&(e=t)})),e&&(this.$route.meta.parentPath="sw.extension.my-extensions.listing.app",this.$route.meta.$module=e.manifest)},readAll:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.FinsearchConfigApiService.getValues(t.selectedSalesChannelId,t.selectedLanguageId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){_(a,i,o,r,s,"next",e)}function s(e){_(a,i,o,r,s,"throw",e)}r(void 0)}))})()},_isStagingRequest:function(){var e=this;this.httpClient.get("https://cdn.findologic.com/config/".concat(this.shopkey,"/config.json")).then((function(t){t.data.isStagingShop&&(e.isStagingShop=!0)})).catch((function(){e.isStagingShop=!1}))},onSave:function(){var e=this;this.shopkeyAvailable&&!this.isValidShopkey?this._setErrorStates(!0):this.shopkeyAvailable?this._validateShopkeyFromService().then((function(t){e.isRegisteredShopkey=t})).then((function(){e.isRegisteredShopkey?e._save():e._setErrorStates(!0)})):this._save()},_save:function(){var e=this;this.isLoading=!0,this.isSaveSuccessful=!1,this.FinsearchConfigApiService.batchSave(this.allConfigs).then((function(t){e.shopkeyExists=!1,e.shopkeyErrorState=null,e.isLoading=!1,e.isSaveSuccessful=!0,e.createNotificationSuccess({title:e.$tc("findologic.settingForm.titleSuccess"),message:e.$tc("findologic.settingForm.configSaved")}),t&&(e.actualConfigData=t)})).catch((function(t){e.isSaveSuccessful=!1,e.isLoading=!1,e.shopkeyExists=!0,e._setErrorStates(!0)}))},_setErrorStates:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLoading=!1,this.shopkeyAvailable&&(this.isValidShopkey?!1===this.isRegisteredShopkey?this.shopkeyErrorState={code:1,detail:this.$tc("findologic.notRegisteredShopkey")}:!0===this.shopkeyExists?this.shopkeyErrorState={code:1,detail:this.$tc("findologic.shopkeyExists")}:(this.shopkeyExists=!1,this.isRegisteredShopkey=!0,this.shopkeyErrorState=null):this.shopkeyErrorState={code:1,detail:this.$tc("findologic.invalidShopkey")}),e&&this._showNotification()},_showNotification:function(){this.shopkeyAvailable?this.isValidShopkey?!1===this.isRegisteredShopkey?this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.notRegisteredShopkey")}):!0===this.shopkeyExists&&this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.shopkeyExists")}):this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.invalidShopkey")}):this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.fieldRequired")})},_validateShopkeyFromService:function(){var e=this;return this.isLoading=!0,this.httpClient.get("https://account.findologic.com/api/v1/shopkey/validate/".concat(this.shopkey)).then((function(t){return e.isLoading=!1,String(t.status).startsWith("2")})).catch((function(){return!1}))},onSelectedLanguage:function(e){this.shopkeyErrorState=null,this.selectedLanguageId=e,this.createdComponent()},onSelectedSalesChannel:function(e){var t=this;if(this.language=[],void 0!==this.salesChannel&&null!==e){var n=this.salesChannel.find((function(t){return t.id===e}));n&&(this.selectedSalesChannelId=e,this.onSelectedLanguage(n.languageId),n.languages.forEach((function(e){t.language.push({name:e.name,label:e.name,value:e.id})})))}else this.onSelectedLanguage(null)}}});var L=n("2ETB"),j=n.n(L),A=Shopware,R=A.Component,B=A.Mixin,N=Shopware.Data.Criteria;R.register("findologic-config",{template:j.a,name:"FindologicConfig",inject:["repositoryFactory"],mixins:[B.getByName("notification")],props:{actualConfigData:{required:!0},allConfigs:{type:Object,required:!0},shopkeyErrorState:{required:!0},selectedSalesChannelId:{type:String,required:!1,default:null},isStagingShop:{type:Boolean,required:!0,default:!1},isValidShopkey:{type:Boolean,required:!0,default:!1},isActive:{type:Boolean,required:!0,default:!1},shopkeyAvailable:{type:Boolean,required:!0,default:!1}},data:function(){return{isLoading:!1,term:null,categories:[],categoryIds:[]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getCategories()},isString:function(e){if("string"!=typeof e)return!0},isBoolean:function(e){return"boolean"!=typeof e},sortByProperty:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return e.sort((function(e,i){var o="string"==typeof e[t]?e[t].toUpperCase():e[t],a="string"==typeof i[t]?i[t].toUpperCase():i[t],r=0;return o>a?r="asc"===n?1:-1:o<a&&(r="asc"===n?-1:1),r})),e},openSalesChannelUrl:function(){var e=this;if(null!==this.selectedSalesChannelId){var t=new N;t.addFilter(N.equals("id",this.selectedSalesChannelId)),t.setLimit(1),t.addAssociation("domains"),this.salesChannelRepository.search(t,Shopware.Context.api).then((function(t){var n=t.first().domains.first();e._openStagingUrl(n)}))}else this._openDefaultUrl()},_openDefaultUrl:function(){var e="".concat(window.location.origin,"?findologic=on");window.open(e,"_blank")},_openStagingUrl:function(e){if(e){var t="".concat(e.url,"?findologic=on");window.open(t,"_blank")}else this._openDefaultUrl()},getCategories:function(){var e=this;this.isLoading=!0;var t=[];this.categoryRepository.search(this.categoryCriteria,Shopware.Context.api).then((function(n){e.term=null,e.total=n.total,n.forEach((function(e){t.push({value:e.id,name:e.name,label:e.translated.breadcrumb.join(" > ")})})),e.categories=e.sortByProperty(t,"label")})).finally((function(){e.isLoading=!1}))}},computed:{showTestButton:function(){return this.isActive&&this.shopkeyAvailable&&this.isValidShopkey&&this.isStagingShop},showAPIConfig:function(){return void 0===this.integrationType||"API"===this.integrationType},showDIConfig:function(){return void 0===this.integrationType||"Direct Integration"===this.integrationType},filterPositionOptions:function(){return[{label:this.$tc("findologic.settingForm.config.filterPosition.top.label"),value:"top"},{label:this.$tc("findologic.settingForm.config.filterPosition.left.label"),value:"left"}]},integrationType:function(){return this.actualConfigData["FinSearch.config.integrationType"]},salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")},categoryRepository:function(){return this.repositoryFactory.create("category")},categoryCriteria:function(){var e=new N(1,500);return e.addSorting(N.sort("name","ASC")),e.addSorting(N.sort("parentId","ASC")),this.term&&e.addFilter(N.contains("name",this.term)),e}}});var q=n("s3Ly"),V=n("zaPX");Shopware.Module.register("findologic-module",{type:"plugin",name:"FinSearch",title:"findologic.header",description:"findologic.general.mainMenuDescription",color:"#f7ff0f",snippets:{"de-DE":V,"en-GB":q},routes:{index:{component:"findologic-page",path:"index",meta:{parentPath:"sw.settings.index"}}}})},YVmS:function(e,t,n){},ZMAt:function(e,t,n){var i=n("YVmS");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("d832dcba",i,!0,{})},s3Ly:function(e){e.exports=JSON.parse('{"findologic":{"header":"FINDOLOGIC","general":{"mainMenuDescription":"FINDOLOGIC plugin for Shopware 6 e-commerce system"},"fieldRequired":"Shopkey is required.","invalidShopkey":"Invalid Shopkey.","shopkeyExists":"This shopkey is already configured for another language.","notRegisteredShopkey":"The given shopkey is not associated to any known service.","selectSalesChannel":"Please select a Sales Channel...","settingForm":{"salesChannelTitle":"Sales Channel & Language","directIntegration":{"title":"Direct Integration"},"api":{"title":"API"},"configSaved":"Configuration saved.","testButton":"Test mode","config":{"title":"Configuration","shopkey":{"label":"Shopkey","tooltipText":"FINDOLOGIC shopkey"},"active":{"label":"Active","tooltipText":"Activate the FINDOLOGIC search provider."},"activeOnCategoryPages":{"label":"Active on category pages","tooltipText":"Activate the FINDOLOGIC search provider for category pages."},"searchResultContainer":{"label":"CSS class for search result","placeholder":"fl-result","tooltipText":"This option has an effect for Direct Integration only, when empty fl-result is used."},"navigationResultContainer":{"label":"CSS class for navigation","placeholder":"fl-navigation-result","tooltipText":"This option has an effect for Direct Integration only, when empty fl-navigation-result is used."},"crossSellingCategories":{"label":"Cross-Selling categories","placeholder":"Search categories...","tooltipText":"If you have multiple subcategories in your Cross-Selling category, make sure to add all subcategories. Products in these categories are excluded from the export"},"integrationType":{"label":"Integration (read-only)","tooltipText":"Currently used integration type. Either one of Direct Integration or API."},"filterPosition":{"label":"Filter position for search result pages","tooltipText":"Top: Shows the filters above the search results. Left: Shows the filters on the left side, next to the search results.","top":{"label":"Top"},"left":{"label":"Left"}}},"titleSuccess":"Success","titleError":"Error"},"error":{"title":"Error"}}}')},zaPX:function(e){e.exports=JSON.parse('{"findologic":{"header":"FINDOLOGIC","general":{"mainMenuDescription":"FINDOLOGIC Plugin für das Shopware 6 E-Commerce System"},"fieldRequired":"Shopkey ist erforderlich.","invalidShopkey":"Ungültiger Shopkey.","shopkeyExists":"Dieser Shopkey is bereits einer anderen Sprache zugeordnet.","notRegisteredShopkey":"Der eingegebene Shopkey ist keinem bekannten Service zugeordnet.","selectSalesChannel":"Bitte wählen Sie einen Verkaufskanal...","settingForm":{"salesChannelTitle":"Verkaufskanal & Sprache","directIntegration":{"title":"Direct Integration"},"api":{"title":"API"},"configSaved":"Konfiguration gespeichert.","testButton":"Testmodus","config":{"title":"Konfiguration","shopkey":{"label":"Shopkey","tooltipText":"FINDOLOGIC shopkey"},"active":{"label":"Aktiv","tooltipText":"Aktiviert die FINDOLOGIC Suche."},"activeOnCategoryPages":{"label":"Aktiv auf Kategorieseiten","tooltipText":"Aktiviert die FINDOLOGIC Suche für Kategorieseiten."},"searchResultContainer":{"label":"CSS-Klasse für Suchresultat","placeholder":"fl-result","tooltipText":"Diese Option ist nur bei Direct Integration wirksam, wenn kein Wert gegeben ist wird fl-result verwendet"},"navigationResultContainer":{"label":"CSS-Klasse für Navigation","placeholder":"fl-navigation-result","tooltipText":"Diese Option ist nur bei Direct Integration wirksam, wenn kein Wert gegeben ist wird fl-navigation-result verwendet."},"crossSellingCategories":{"label":"Cross-Selling Kategorien","placeholder":"Kategorien suchen...","tooltipText":"Sollten Sie mehrere Subkategorien in Ihrer Cross-Selling Kategorie haben, fügen sie jede Subkategorie ein. Produkte in diesen Kategorien werden vom Export ausgeschlossen"},"integrationType":{"label":"Integration (schreibgeschützt)","tooltipText":"Die aktuell verwendete Integrationsart. Entweder Direct Integration oder API."},"filterPosition":{"label":"Position der Filter auf Suchergebnisseiten","tooltipText":"Oben: Zeigt die Filter über dem Suchergebnis an. Links: Zeigt die Filter auf der linken Seite, neben dem Suchergebnis, an","top":{"label":"Oben"},"left":{"label":"Links"}}},"titleSuccess":"Erfolgreich","titleError":"Fehler"},"error":{"title":"Fehler"}}}')}},[["Qoii","runtime","vendors-node"]]]);