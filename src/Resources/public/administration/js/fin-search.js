/*! For license information please see fin-search.js.LICENSE.txt */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=(window.__sw__.assetPath + '/bundles/finsearch/'),n(n.s="1IhG")}({"1IhG":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var g=Shopware.Classes.ApiService,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(a,e);var t,n,i,o=f(a);function a(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"finsearch";return c(this,a),(n=o.call(this,e,t,i)).name="FinsearchConfigApiService",n}return t=a,(n=[{key:"getValues",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.httpClient.get("_action/finsearch",{params:r({salesChannelId:e,languageId:t},n),headers:this.getBasicHeaders(i)}).then((function(e){return g.handleResponse(e)}))}},{key:"saveValues",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.httpClient.post("_action/finsearch",e,{params:r({salesChannelId:t,languageId:n},i),headers:this.getBasicHeaders(o)}).then((function(e){return g.handleResponse(e)}))}},{key:"batchSave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.httpClient.post("_action/finsearch/batch",e,{params:r({},t),headers:this.getBasicHeaders(n)}).then((function(e){return g.handleResponse(e)}))}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(g),v=Shopware.Application;v.addServiceProvider("FinsearchConfigApiService",(function(e){var t=v.getContainer("init");return new p(t.httpClient,e.loginService)}));function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=Shopware,S=w.Component,x=w.State;S.override("sw-self-maintained-extension-card",{template:"{% block sw_extension_card_base_context_menu_settings %}\n    <sw-context-menu-item\n            v-if=\"isInstalled && extension.configurable\"\n            :routerLink=\"{ name: extension.name === 'FinSearch' ? 'findologic.module.index' : 'sw.extension.config', params: { namespace: extension.name } }\">\n\n        {{ $tc('sw-extension-store.component.sw-extension-card-base.contextMenu.config') }}\n    </sw-context-menu-item>\n{% endblock %}\n",computed:{extensionCardClasses:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"sw-self-maintained-extension-card":!0},this.$super("extensionCardClasses"))}},mounted:function(){"FinSearch"!==this.extension.name||this.supportsOpenAppMechanism()||(this.extension.configurable=!0)},methods:{supportsOpenAppMechanism:function(){return!!x.get("extensionEntryRoutes")}}});n("stcq");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),c=new P(o||[]);return i(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function h(){}function g(){}var p={};l(p,r,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(F([])));y&&y!==t&&n.call(y,r)&&(p=y);var m=g.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,r,a,c){var l=u(e[i],e,r);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==C(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var r;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){o(e,n,t,i)}))}return r=r?r.then(i,i):i()}})}function S(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return E()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=u(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=g,i(m,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:h,configurable:!0}),h.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new w(s(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),l(m,c,"Generator"),l(m,r,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=F,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function O(e,t,n,i,o,r,a){try{var c=e[r](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(i,o)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Shopware,L=E.Component,I=E.Mixin,j=E.Application,T=Shopware.Data.Criteria;L.register("findologic-page",{template:'{% block findologic %}\n    <sw-page class="findologic">\n        {% block findologic_header %}\n            <template slot="smart-bar-header">\n                <h2>\n                    {{ $tc($route.meta.$module.title) }}\n                    <sw-icon name="small-arrow-medium-right" small></sw-icon>\n                    {{ $tc(\'findologic.header\') }}\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block findologic_actions %}\n            <template slot="smart-bar-actions">\n                {% block findologic_actions_save %}\n                    <sw-button\n                            class="sw-settings-login-registration__save-action"\n                            :isLoading="isLoading"\n                            :disabled="isLoading"\n                            variant="primary"\n                            :title="$tc(\'global.default.save\')"\n                            :aria-label="$tc(\'global.default.save\')"\n                            v-model="isSaveSuccessful"\n                            @click="onSave"\n                    >\n                        {{ $tc(\'global.default.save\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block findologic_actions_cancel %}\n                    <sw-button\n                            :routerLink="{ name: $route.meta.parentPath }"\n                            :title="$tc(\'global.default.cancel\')"\n                            :aria-label="$tc(\'global.default.cancel\')">\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block findologic_content %}\n            <template slot="content">\n                {% block findologic_content_card %}\n                    <sw-card-view>\n                        {% block findologic_content_card_channel_config %}\n                            {% block findologic_content_card_channel_config_sales_channel_card %}\n                                <sw-card\n                                    :title="$tc(\'findologic.settingForm.salesChannelTitle\')"\n                                    positionIdentifier="findologic_settings"\n                                >\n                                    {% block findologic_content_card_channel_config_sales_channel_card_title %}\n                                        <sw-entity-single-select\n                                                id="salesChannelSelect"\n                                                :placeholder="$tc(\'sw-sales-channel-switch.labelDefaultOption\')"\n                                                :searchPlaceholder="$tc(\'sw-sales-channel-switch.placeholderSelect\')"\n                                                :resetOption="$tc(\'sw-sales-channel-switch.labelDefaultOption\')"\n                                                @change="onSelectedSalesChannel"\n                                                v-model="selectedSalesChannelId"\n                                                entity="sales_channel">\n                                            <template #labelProperty="{item, labelProperty}">\n                                                <span v-if="item.translated">{{ item.translated[labelProperty] }}</span>\n                                            </template>\n                                        </sw-entity-single-select>\n\n                                        <sw-single-select\n                                                ref="languageSelection"\n                                                class="sw-language-switch__select"\n                                                :options="language"\n                                                id="language"\n                                                :placeholder="$tc(\'findologic.selectSalesChannel\')"\n                                                :disabled="!selectedSalesChannelId"\n                                                required\n                                                v-model="selectedLanguageId"\n                                                @change="onSelectedLanguage">\n                                        </sw-single-select>\n\n                                    {% endblock %}\n                                </sw-card>\n\n                                {% block findologic_content_card_channel_config_credentials_card %}\n                                    <findologic-config\n                                            v-if="actualConfigData"\n                                            v-model="actualConfigData"\n                                            :isActive="isActive"\n                                            :shopkeyAvailable="shopkeyAvailable"\n                                            :isValidShopkey="isValidShopkey"\n                                            :isStagingShop="isStagingShop"\n                                            :shopkeyErrorState="shopkeyErrorState"\n                                            :selectedSalesChannelId="selectedSalesChannelId">\n                                    </findologic-config>\n                                {% endblock %}\n                            {% endblock %}\n\n                            {% block findologic_content_card_loading %}\n                                <sw-loader v-if="isLoading"></sw-loader>\n                            {% endblock %}\n                        {% endblock %}\n                    </sw-card-view>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","FinsearchConfigApiService","systemConfigApiService"],mixins:[I.getByName("notification")],data:function(){return{isLoading:!1,isSaveSuccessful:!1,isStagingShop:!1,shopkeyExists:!1,isRegisteredShopkey:null,isActive:!1,config:null,allConfigs:{},selectedSalesChannelId:null,selectedLanguageId:null,salesChannel:[],language:[],shopkeyErrorState:null,httpClient:j.getContainer("init").httpClient}},metaInfo:function(){return{title:this.$createTitle()}},computed:{configKey:function(){return this.selectedSalesChannelId&&this.selectedLanguageId?"".concat(this.selectedSalesChannelId,"-").concat(this.selectedLanguageId):null},actualConfigData:{get:function(){return this.allConfigs[this.configKey]},set:function(e){this.allConfigs=P(P({},this.allConfigs),{},F({},this.configKey,e))}},shopkey:function(){return this.actualConfigData?this.actualConfigData["FinSearch.config.shopkey"]:""},isValidShopkey:function(){return!1!==/^[A-F0-9]{32}$/.test(this.shopkey)},shopkeyAvailable:function(){return!!this.shopkey},salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")},languageRepository:function(){return this.repositoryFactory.create("language")},findologicConfigRepository:function(){return this.repositoryFactory.create("finsearch_config")}},watch:{selectedLanguageId:{handler:function(e){e&&this.createdComponent()}},shopkey:function(){this.shopkeyErrorState=null,this.isValidShopkey?this._isStagingRequest():this.actualConfigData&&(this.actualConfigData["FinSearch.config.active"]=!1,this.actualConfigData["FinSearch.config.activeOnCategoryPages"]=!1),this._setErrorStates()}},created:function(){this.createdComponent()},beforeMount:function(){this.updateHeaderBarBackLink()},methods:{createdComponent:function(){var e=this;if(this.selectedSalesChannelId&&this.selectedLanguageId&&(this.isLoading=!0,this.readAll().then((function(t){e.actualConfigData=e.setDefaultsOfNewConfigurations(t),e.isLoading=!1}))),!this.salesChannel.length){this.isLoading=!0;var t=new T(null,null);t.addAssociation("languages"),t.addAssociation("domains"),t.addFilter(T.equals("active",!0)),this.salesChannelRepository.search(t,Shopware.Context.api).then((function(t){e.isLoading=!1,e.salesChannel=t}))}},setDefaultsOfNewConfigurations:function(e){return e["FinSearch.config.filterPosition"]||(e["FinSearch.config.filterPosition"]="top"),e["FinSearch.config.mainVariant"]||(e["FinSearch.config.mainVariant"]="default"),e["FinSearch.config.advancedPricing"]||(e["FinSearch.config.advancedPricing"]="off"),e["FinSearch.config.exportZeroPricedProducts"]||(e["FinSearch.config.exportZeroPricedProducts"]=!1),e["FinSearch.config.useXmlVariants"]||(e["FinSearch.config.useXmlVariants"]=!1),e},updateHeaderBarBackLink:function(){var e=null;Shopware.Module.getModuleRegistry().forEach((function(t){e||"sw-extension-store.title"===t.manifest.title&&(e=t)})),e&&(this.$route.meta.parentPath="sw.extension.my-extensions.listing.app",this.$route.meta.$module=e.manifest)},readAll:function(){var e,t=this;return(e=k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.FinsearchConfigApiService.getValues(t.selectedSalesChannelId,t.selectedLanguageId));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){O(r,i,o,a,c,"next",e)}function c(e){O(r,i,o,a,c,"throw",e)}a(void 0)}))})()},_isStagingRequest:function(){var e=this;this.httpClient.get("https://cdn.findologic.com/config/".concat(this.shopkey,"/config.json")).then((function(t){t.data.isStagingShop&&(e.isStagingShop=!0)})).catch((function(){e.isStagingShop=!1}))},onSave:function(){var e=this;this.shopkeyAvailable&&!this.isValidShopkey?this._setErrorStates(!0):this.shopkeyAvailable?this._validateShopkeyFromService().then((function(t){e.isRegisteredShopkey=t})).then((function(){e.isRegisteredShopkey?e._save():e._setErrorStates(!0)})):this._save()},_save:function(){var e=this;this.isLoading=!0,this.isSaveSuccessful=!1,this.FinsearchConfigApiService.batchSave(this.allConfigs).then((function(t){e.shopkeyExists=!1,e.shopkeyErrorState=null,e.isLoading=!1,e.isSaveSuccessful=!0,e.createNotificationSuccess({title:e.$tc("findologic.settingForm.titleSuccess"),message:e.$tc("findologic.settingForm.configSaved")}),t&&(e.actualConfigData=t)})).catch((function(){e.isSaveSuccessful=!1,e.isLoading=!1,e.shopkeyExists=!0,e._setErrorStates(!0)}))},_setErrorStates:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLoading=!1,this.shopkeyAvailable&&(this.isValidShopkey?!1===this.isRegisteredShopkey?this.shopkeyErrorState={code:1,detail:this.$tc("findologic.notRegisteredShopkey")}:!0===this.shopkeyExists?this.shopkeyErrorState={code:1,detail:this.$tc("findologic.shopkeyExists")}:(this.shopkeyExists=!1,this.isRegisteredShopkey=!0,this.shopkeyErrorState=null):this.shopkeyErrorState={code:1,detail:this.$tc("findologic.invalidShopkey")}),e&&this._showNotification()},_showNotification:function(){this.shopkeyAvailable?this.isValidShopkey?!1===this.isRegisteredShopkey?this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.notRegisteredShopkey")}):!0===this.shopkeyExists&&this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.shopkeyExists")}):this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.invalidShopkey")}):this.createNotificationError({title:this.$tc("findologic.settingForm.titleError"),message:this.$tc("findologic.fieldRequired")})},_validateShopkeyFromService:function(){var e=this;return this.isLoading=!0,this.httpClient.get("https://account.findologic.com/api/v1/shopkey/validate/".concat(this.shopkey)).then((function(t){return e.isLoading=!1,String(t.status).startsWith("2")})).catch((function(){return!1}))},onSelectedLanguage:function(e){this.shopkeyErrorState=null,this.selectedLanguageId=e,this.createdComponent()},onSelectedSalesChannel:function(e){var t=this;if(this.language=[],void 0!==this.salesChannel&&null!==e){var n=this.salesChannel.find((function(t){return t.id===e}));n&&(this.selectedSalesChannelId=e,this.onSelectedLanguage(n.languageId),n.languages.forEach((function(e){var i=n.domains.find((function(t){return t.languageId===e.id}));i&&null!==i.url&&""!==i.url&&t.language.push({name:e.name,label:e.name,value:e.id})})))}else this.onSelectedLanguage(null)}}});function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){$=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),c=new O(o||[]);return i(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function h(){}function g(){}var p={};l(p,r,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,r)&&(p=y);var m=g.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(i,r,a,c){var l=u(e[i],e,r);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==D(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var r;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){o(e,n,t,i)}))}return r=r?r.then(i,i):i()}})}function S(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return P()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=u(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=g,i(m,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:h,configurable:!0}),h.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new w(s(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),l(m,c,"Generator"),l(m,r,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function A(e,t,n,i,o,r,a){try{var c=e[r](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(i,o)}var R=Shopware,N=R.Component,V=R.Mixin,G=Shopware.Data,B=G.Criteria,M=G.EntityCollection;N.register("findologic-config",{name:"findologic-config",template:'{% block findologic_credentials %}\n    <sw-container slot="grid" rows="auto auto">\n        <sw-card-section>\n            <sw-card\n                class="sw-card--grid"\n                :title="$tc(\'findologic.settingForm.config.title\')"\n                positionIdentifier="findologic_settings_config"\n            >\n                <sw-container>\n                    {% block findologic_credentials_card_container %}\n                        {% block findologic_credentials_settings %}\n                            <div class="findologic-settings-credentials-fields">\n                                <sw-text-field\n                                        v-model="actualConfigData[\'FinSearch.config.shopkey\']"\n                                        :label="$tc(\'findologic.settingForm.config.shopkey.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.shopkey.tooltipText\')"\n                                        :required="true"\n                                        :error="shopkeyErrorState"\n                                >\n                                </sw-text-field>\n                                <sw-switch-field\n                                        v-model="actualConfigData[\'FinSearch.config.active\']"\n                                        :label="$tc(\'findologic.settingForm.config.active.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.active.tooltipText\')"\n                                >\n                                </sw-switch-field>\n                                <sw-button\n                                        v-show="showTestButton"\n                                        @click="openSalesChannelUrl"\n                                >\n                                    {{ $tc(\'findologic.settingForm.testButton\') }}\n                                </sw-button>\n                                <span class="divider"></span>\n                                <sw-text-field\n                                        v-model="actualConfigData[\'FinSearch.config.integrationType\']"\n                                        ref="integrationType"\n                                        :label="$tc(\'findologic.settingForm.config.integrationType.label\')"\n                                        :helpText="$tc(\'findologic.settingForm.config.integrationType.tooltipText\')"\n                                        :disabled="true"\n                                >\n                                </sw-text-field>\n                            </div>\n                        {% endblock %}\n                    {% endblock %}\n                </sw-container>\n            </sw-card>\n\n\n            <sw-card\n                class="sw-card--grid"\n                :title="$tc(\'findologic.settingForm.config.export.title\')"\n                positionIdentifier="findologic_settings_export"\n            >\n                <sw-container>\n                    <div class="findologic-settings-credentials-fields">\n                        <sw-switch-field\n                            v-model="actualConfigData[\'FinSearch.config.exportZeroPricedProducts\']"\n                            :label="$tc(\'findologic.settingForm.config.exportZeroPricedProducts.label\')"\n                            :helpText="$tc(\'findologic.settingForm.config.exportZeroPricedProducts.tooltipText\')"\n                        >\n                        </sw-switch-field>\n\n                        <div style="display: flex; justify-content: space-between">\n                            <sw-switch-field\n                                    v-model="actualConfigData[\'FinSearch.config.useXmlVariants\']"\n                                    :label="$tc(\'findologic.settingForm.config.useXmlVariants.label\')"\n                            >\n                            </sw-switch-field>\n                            <a\n                                class="sw-external-link"\n                                target="_blank"\n                                href="https://docs.findologic.com/doku.php?id=xml_export_documentation:XML_2_format#using_variants_in_search_results"\n                            >\n                                <sw-icon name="regular-external-link-s" size="16px"></sw-icon>\n                            </a>\n                        </div>\n\n                        <sw-single-select\n                            v-model="actualConfigData[\'FinSearch.config.advancedPricing\']"\n                            :options="advancedPricingOptions"\n                            :label="$tc(\'findologic.settingForm.config.advancedPricing.label\')"\n                            :placeholder="$tc(\'findologic.settingForm.config.advancedPricing.off.label\')"\n                            :helpText="$tc(\'findologic.settingForm.config.advancedPricing.tooltipText\')"\n                            @change="onAdvancedPricingChange"\n                        >\n                        </sw-single-select>\n\n                        <sw-single-select\n                            v-model="actualConfigData[\'FinSearch.config.mainVariant\']"\n                            :options="mainVariantOptions"\n                            :label="$tc(\'findologic.settingForm.config.mainVariant.label\')"\n                            :placeholder="$tc(\'findologic.settingForm.config.mainVariant.default.label\')"\n                            :helpText="$tc(\'findologic.settingForm.config.mainVariant.tooltipText\')">\n                        </sw-single-select>\n\n                        <sw-category-tree-field\n                            id="crossSellingCategories"\n                            :categories-collection="categoryCollection"\n                            :label="$tc(\'findologic.settingForm.config.crossSellingCategories.label\')"\n                            :helpText="$tc(\'findologic.settingForm.config.crossSellingCategories.tooltipText\')"\n                            :placeholder="$tc(\'findologic.settingForm.config.crossSellingCategories.placeholder\')"\n                            @selection-add="onCategoryAdd"\n                            @selection-remove="onCategoryRemove"\n                        >\n                        </sw-category-tree-field>\n                    </div>\n                </sw-container>\n            </sw-card>\n\n            <sw-card\n                class="sw-card--grid"\n                :title="$tc(\'findologic.settingForm.directIntegration.title\')"\n                positionIdentifier="findologic_settings_directIntegration"\n            >\n                <sw-container>\n                    <div class="findologic-settings-credentials-fields">\n                        <sw-text-field\n                                v-model="actualConfigData[\'FinSearch.config.searchResultContainer\']"\n                                :label="$tc(\'findologic.settingForm.config.searchResultContainer.label\')"\n                                :helpText="$tc(\'findologic.settingForm.config.searchResultContainer.tooltipText\')"\n                                :placeholder="$tc(\'findologic.settingForm.config.searchResultContainer.placeholder\')"\n                        >\n                        </sw-text-field>\n                        <sw-text-field\n                                v-model="actualConfigData[\'FinSearch.config.navigationResultContainer\']"\n                                :label="$tc(\'findologic.settingForm.config.navigationResultContainer.label\')"\n                                :helpText="$tc(\'findologic.settingForm.config.navigationResultContainer.tooltipText\')"\n                                :placeholder="$tc(\'findologic.settingForm.config.navigationResultContainer.placeholder\')"\n                        >\n                        </sw-text-field>\n                    </div>\n                </sw-container>\n            </sw-card>\n\n            <sw-card\n                v-if="showAPIConfig"\n                class="sw-card--grid"\n                :title="$tc(\'findologic.settingForm.api.title\')"\n                positionIdentifier="findologic_settings_api"\n            >\n                <sw-container>\n                    <div class="findologic-settings-credentials-fields">\n\n                        {% block findologic_credentials_settings_search_filter_position_container %}\n                            <sw-switch-field\n                                v-model="actualConfigData[\'FinSearch.config.activeOnCategoryPages\']"\n                                :label="$tc(\'findologic.settingForm.config.activeOnCategoryPages.label\')"\n                                :helpText="$tc(\'findologic.settingForm.config.activeOnCategoryPages.tooltipText\')"\n                            >\n                            </sw-switch-field>\n                            <sw-single-select\n                                    v-model="actualConfigData[\'FinSearch.config.filterPosition\']"\n                                    :options="filterPositionOptions"\n                                    :label="$tc(\'findologic.settingForm.config.filterPosition.label\')"\n                                    :helpText="$tc(\'findologic.settingForm.config.filterPosition.tooltipText\')">\n                            </sw-single-select>\n                        {% endblock %}\n                    </div>\n                </sw-container>\n            </sw-card>\n        </sw-card-section>\n    </sw-container>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[V.getByName("notification")],props:{value:{type:Object,required:!0},shopkeyErrorState:{type:Object,default:null},selectedSalesChannelId:{type:String,required:!1,default:null},isStagingShop:{type:Boolean,required:!0,default:!1},isValidShopkey:{type:Boolean,required:!0,default:!1},isActive:{type:Boolean,required:!0,default:!1},shopkeyAvailable:{type:Boolean,required:!0,default:!1}},emits:["input"],data:function(){return{isLoading:!1,categoryCollection:[]}},computed:{actualConfigData:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},showTestButton:function(){return this.isActive&&this.shopkeyAvailable&&this.isValidShopkey&&this.isStagingShop},showAPIConfig:function(){return void 0===this.integrationType||"API"===this.integrationType},filterPositionOptions:function(){return[{label:this.$tc("findologic.settingForm.config.filterPosition.top.label"),value:"top"},{label:this.$tc("findologic.settingForm.config.filterPosition.left.label"),value:"left"}]},mainVariantOptions:function(){return[{label:this.$tc("findologic.settingForm.config.mainVariant.default.label"),value:"default"},{label:this.$tc("findologic.settingForm.config.mainVariant.parent.label"),value:"parent"},{label:this.$tc("findologic.settingForm.config.mainVariant.cheapest.label"),value:"cheapest"}]},advancedPricingOptions:function(){return[{label:this.$tc("findologic.settingForm.config.advancedPricing.off.label"),value:"off"},{label:this.$tc("findologic.settingForm.config.advancedPricing.cheapest.label"),value:"cheapest"},{label:this.$tc("findologic.settingForm.config.advancedPricing.unit.label"),value:"unit"}]},integrationType:function(){return this.actualConfigData["FinSearch.config.integrationType"]},salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")},categoryRepository:function(){return this.repositoryFactory.create("category")},selectedCategoriesCriteria:function(){var e=new B(null,null);return e.addFilter(B.equalsAny("id",this.actualConfigData["FinSearch.config.crossSellingCategories"])),e}},created:function(){this.createCategoryCollection()},methods:{createCategoryCollection:function(){var e,t=this;return(e=$().mark((function e(){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.actualConfigData["FinSearch.config.crossSellingCategories"])||void 0===n||!n.length){e.next=6;break}return e.next=3,t.categoryRepository.search(t.selectedCategoriesCriteria,Shopware.Context.api);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=new M(t.categoryRepository.route,t.categoryRepository.entityName,Shopware.Context.api);case 7:t.categoryCollection=e.t0;case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){A(r,i,o,a,c,"next",e)}function c(e){A(r,i,o,a,c,"throw",e)}a(void 0)}))})()},openSalesChannelUrl:function(){var e=this;if(null!==this.selectedSalesChannelId){var t=new B(null,null);t.addFilter(B.equals("id",this.selectedSalesChannelId)),t.setLimit(1),t.addAssociation("domains"),this.salesChannelRepository.search(t,Shopware.Context.api).then((function(t){var n=t.first().domains.first();e._openStagingUrl(n)}))}else this._openDefaultUrl()},_openDefaultUrl:function(){var e="".concat(window.location.origin,"?findologic=on");window.open(e,"_blank")},_openStagingUrl:function(e){if(e){var t="".concat(e.url,"?findologic=on");window.open(t,"_blank")}else this._openDefaultUrl()},onCategoryAdd:function(e){this.actualConfigData["FinSearch.config.crossSellingCategories"]?this.actualConfigData["FinSearch.config.crossSellingCategories"].push(e.id):this.actualConfigData["FinSearch.config.crossSellingCategories"]=[e.id]},onCategoryRemove:function(e){this.actualConfigData["FinSearch.config.crossSellingCategories"]=this.actualConfigData["FinSearch.config.crossSellingCategories"].filter((function(t){return t!==e.id}))},onAdvancedPricingChange:function(e){var t=this.actualConfigData["FinSearch.config.mainVariant"];"off"!==e&&"cheapest"===t&&(this.actualConfigData["FinSearch.config.mainVariant"]="default")}}});var q=n("oK2P"),K=n("QGXR");Shopware.Module.register("findologic-module",{type:"plugin",name:"FinSearch",title:"findologic.header",description:"findologic.general.mainMenuDescription",color:"#f7ff0f",snippets:{"de-DE":K,"en-GB":q},routes:{index:{component:"findologic-page",path:"index",meta:{parentPath:"sw.settings.index"}}},extensionEntryRoute:{extensionName:"FinSearch",route:"findologic.module.index"}})},QGXR:function(e){e.exports=JSON.parse('{"findologic":{"header":"FINDOLOGIC","general":{"mainMenuDescription":"FINDOLOGIC Plugin für das Shopware 6 E-Commerce System"},"fieldRequired":"Shopkey ist erforderlich.","invalidShopkey":"Ungültiger Shopkey.","shopkeyExists":"Dieser Shopkey is bereits einer anderen Sprache zugeordnet.","notRegisteredShopkey":"Der eingegebene Shopkey ist keinem bekannten Service zugeordnet.","selectSalesChannel":"Bitte wählen Sie einen Verkaufskanal...","settingForm":{"salesChannelTitle":"Verkaufskanal & Sprache","directIntegration":{"title":"Direct Integration / Instant Frontend"},"api":{"title":"API"},"configSaved":"Konfiguration gespeichert.","testButton":"Testmodus","config":{"title":"Konfiguration","shopkey":{"label":"Shopkey","tooltipText":"FINDOLOGIC shopkey"},"active":{"label":"Aktiv","tooltipText":"Aktiviert die FINDOLOGIC Suche."},"activeOnCategoryPages":{"label":"Aktiv auf Kategorieseiten","tooltipText":"Aktiviert die FINDOLOGIC Suche für Kategorieseiten."},"searchResultContainer":{"label":"CSS-Selektor für Suchresultat","placeholder":".fl-result","tooltipText":"Diese Option ist nur bei Direct Integration und Instant Frontend wirksam, wenn kein Wert gegeben ist wird \'.fl-result\' verwendet"},"navigationResultContainer":{"label":"CSS-Selektor für Navigation","placeholder":".fl-navigation-result","tooltipText":"Diese Option ist nur bei Direct Integration und Instant Frontend wirksam, wenn kein Wert gegeben ist wird \'.fl-navigation-result\' verwendet."},"crossSellingCategories":{"label":"Cross-Selling Kategorien","placeholder":"Kategorien suchen...","tooltipText":"Sollten Sie mehrere Subkategorien in Ihrer Cross-Selling Kategorie haben, fügen sie jede Subkategorie ein. Produkte in diesen Kategorien werden vom Export ausgeschlossen"},"integrationType":{"label":"Integration (schreibgeschützt)","tooltipText":"Die aktuell verwendete Integrationsart. Entweder Direct Integration oder API."},"filterPosition":{"label":"Position der Filter auf Suchergebnisseiten","tooltipText":"Oben: Zeigt die Filter über dem Suchergebnis an. Links: Zeigt die Filter auf der linken Seite, neben dem Suchergebnis, an","top":{"label":"Oben"},"left":{"label":"Links"}},"export":{"title":"Export"},"mainVariant":{"label":"Exportierte Hauptvariante","tooltipText":"Wählen um die Variante, die auf Listing-Seiten angezeigt wird, zu ändern.","default":{"label":"Shopware Standard"},"parent":{"label":"Haupt-/Eltern Produkt"},"cheapest":{"label":"Günstigste Variante"}},"advancedPricing":{"label":"Erweitere Preise","tooltipText":"Welche erweiterten Preise sollten berücksichtigt werden?","off":{"label":"Keine erweiterten Preise"},"cheapest":{"label":"Günstigster Preis"},"unit":{"label":"Preis beim Kauf von einer Einheit"}},"exportZeroPricedProducts":{"label":"Produkte ohne Preis exportieren","tooltipText":"Wenn deaktiviert, werden alle Produkte/Varianten mit einem Preis von 0 ausgeschlossen. Wenn das Hauptprodukt einen Preis von 0 hat, werden Varianten mit Preis trotzdem noch berücksichtigt."},"useXmlVariants":{"label":"XML Varianten verwenden"}},"titleSuccess":"Erfolgreich","titleError":"Fehler"},"error":{"title":"Fehler"}}}')},YGvN:function(e,t,n){},oK2P:function(e){e.exports=JSON.parse('{"findologic":{"header":"FINDOLOGIC","general":{"mainMenuDescription":"FINDOLOGIC plugin for Shopware 6 e-commerce system"},"fieldRequired":"Shopkey is required.","invalidShopkey":"Invalid Shopkey.","shopkeyExists":"This shopkey is already configured for another language.","notRegisteredShopkey":"The given shopkey is not associated to any known service.","selectSalesChannel":"Please select a Sales Channel...","settingForm":{"salesChannelTitle":"Sales Channel & Language","directIntegration":{"title":"Direct Integration / Instant Frontend"},"api":{"title":"API"},"configSaved":"Configuration saved.","testButton":"Test mode","config":{"title":"Configuration","shopkey":{"label":"Shopkey","tooltipText":"FINDOLOGIC shopkey"},"active":{"label":"Active","tooltipText":"Activate the FINDOLOGIC search provider."},"activeOnCategoryPages":{"label":"Active on category pages","tooltipText":"Activate the FINDOLOGIC search provider for category pages."},"searchResultContainer":{"label":"CSS selector for search result","placeholder":".fl-result","tooltipText":"This option has an effect for Direct Integration and Instant Frontend only, when empty \'.fl-result\' is used."},"navigationResultContainer":{"label":"CSS selector for navigation","placeholder":".fl-navigation-result","tooltipText":"This option has an effect for Direct Integration and Instant Frontend only, when empty \'.fl-navigation-result\' is used."},"crossSellingCategories":{"label":"Cross-Selling categories","placeholder":"Search categories...","tooltipText":"If you have multiple subcategories in your Cross-Selling category, make sure to add all subcategories. Products in these categories are excluded from the export"},"integrationType":{"label":"Integration (read-only)","tooltipText":"Currently used integration type. Either one of Direct Integration or API."},"filterPosition":{"label":"Filter position for search result pages","tooltipText":"Top: Shows the filters above the search results. Left: Shows the filters on the left side, next to the search results.","top":{"label":"Top"},"left":{"label":"Left"}},"export":{"title":"Export"},"mainVariant":{"label":"Exported main variant","tooltipText":"Select to change the variant that is shown on listing pages.","default":{"label":"Shopware default"},"parent":{"label":"Main-/Parent product"},"cheapest":{"label":"Cheapest variant"}},"advancedPricing":{"label":"Considered advanced pricing","tooltipText":"Select which advanced price should be considered, or not at all","off":{"label":"No advanced pricing"},"cheapest":{"label":"Cheapest unit price"},"unit":{"label":"Price when buying one unit"}},"exportZeroPricedProducts":{"label":"Export products without price","tooltipText":"If deactivated, products and variants with a price of 0 are excluded from the export. When parent products have a price of 0, variants with a price are still considered."},"useXmlVariants":{"label":"Use XML variants logic"}},"titleSuccess":"Success","titleError":"Error"},"error":{"title":"Error"}}}')},stcq:function(e,t,n){var i=n("YGvN");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("ydqr").default)("57780a78",i,!0,{})},ydqr:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],a=r[0],c={id:e+":"+o,css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(c):n.push(i[a]={id:a,parts:[c]})}return n}n.r(t),n.d(t,"default",(function(){return g}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,l=0,s=!1,u=function(){},f=null,d="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,n,o){s=n,f=o||{};var a=i(e,t);return p(a),function(t){for(var n=[],o=0;o<a.length;o++){var c=a[o];(l=r[c.id]).refs--,n.push(l)}t?p(a=i(e,t)):a=[];for(o=0;o<n.length;o++){var l;if(0===(l=n[o]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete r[l.id]}}}}function p(e){for(var t=0;t<e.length;t++){var n=e[t],i=r[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(y(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(y(n.parts[o]));r[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function y(e){var t,n,i=document.querySelector("style["+d+'~="'+e.id+'"]');if(i){if(s)return u;i.parentNode.removeChild(i)}if(h){var o=l++;i=c||(c=v()),t=w.bind(null,i,o,!1),n=w.bind(null,i,o,!0)}else i=v(),t=S.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var m,b=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function w(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function S(e,t){var n=t.css,i=t.media,o=t.sourceMap;if(i&&e.setAttribute("media",i),f.ssrId&&e.setAttribute(d,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}});
//# sourceMappingURL=fin-search.js.map